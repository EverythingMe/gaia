<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1">

    <script defer src="shared/js/l10n.js"></script>
    <script defer src="shared/js/lazy_loader.js"></script>
    <script defer src="shared/js/settings_listener.js"></script>
    <script defer src="shared/js/collections_database.js"></script>

    <script defer src="shared/js/everythingme/eme.js"></script>
    <script defer src="shared/js/everythingme/api.js"></script>

    <script defer src="js/activities.js"></script>

    <!-- TODO: these should be in /shared -->
    <!-- symlinks -->
    <script defer src="js/icon_retrivier.js"></script>
    <script defer src="js/layout.js"></script>
    <script defer src="js/app.js"></script>
    <script defer src="js/grid/grid_item.js"></script>
    <script defer src="js/grid/icon.js"></script>
    <script defer src="js/grid/bookmark.js"></script>

    <link rel="stylesheet" href="style/css/app.css">
    <link rel="stylesheet" href="style/css/search.css">
    <link rel="stylesheet" href="style/css/zoom.css">
    <!-- /symlinks -->

    <link rel="resource" type="application/l10n" href="locales/locales.ini">

  </head>
  <body>
    <H1>COLLECTION TEST PAGE</H1>
    <span id="close"></span>

    <button id="create-collection">Create</button>
    <button id="view-collection">View</button>

    <ul id="suggestions"></ul>

    <ul id="icons"></ul>

    <script>
      function reset() {
        document.getElementById('suggestions').innerHTML = '';
        document.getElementById('icons').innerHTML = '';
      }

      document.getElementById('create-collection').addEventListener('click',
        function() {
          Activities['create-collection']();
        });

      document.getElementById('view-collection').addEventListener('click',
        function() {
          var activity = {
            source: {
              postResult: function() {},
              categoryId: 207 // games
            }
          };

          Activities['view-collection'](activity);
        });
      Array.prototype.forEach.call(document.getElementsByTagName('button'),
        function each(button) {
          button.addEventListener('click', function run() {
            reset();
            window.Activities[this.id]();
          });
        });
    </script>
  </body>
</html>
